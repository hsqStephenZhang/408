# 计算机网络



## 什么是计算机网络？



**运行在一系列的协议上面的网络边缘和网络核心组成的分层网状结构，从而能够将多个计算机系统互联起来**



分别解释一下这几个关键词的意思

1. 协议

   计算机网络是通过各种各样的协议组织起来的，每一个因特网的部件，都需要运行一系列的协议(公认的标准)，这些协议控制着信息的接收和发送

2. 网络边缘

   接入到网络中的设备都可以看成是端系统，如PC，服务器，手机

3. 网络核心

   让网络具有互联功能的，具有存储，转发，传输功能的网络通信设备，如网卡，网线，集线器，交换机，路由器

4. 分层

   为了能够简化任务，将不同的任务分为了不同的层次，低层向高层负责，互相之间又是不干扰的





网络边缘就是我们平时使用的需要接入网络的设备，那是通过什么将其联系起来呢？那就是网络核心，网络核心才真正组成了这个网状结构，边缘设备只需要接入即可，而为了通信，需要有一定的标准，就是需要遵守的协议，但是人们平时不了解这些协议，这是因为，这些协议是机器需要遵守的规范，对使用者是透明的







## 电路交换和分组交换



通过网络链路和交换机移动数据有两种基本方法：

1. 电路交换
2. 分组交换



### 电路交换

这个是最早出现在通信网络中的一种方式，主要是应用在电话的通信网络中。

回想一下电话通信的过程：首先摘机，听到拨号音后拨号，交换机找寻被叫，向被叫振铃同时向主叫送回铃音，此时表明在电话网的主被叫之间已经建立起双向的话音传送通路；当被叫摘机应答，即可进入通话阶段；在通话过程中，任何一方挂机，交换机会拆除已建立的通话通路，并向另一方送忙音提示挂机，从而结束通话。

电话通信的基本过程可以分为三个阶段

1. 呼叫建立
2. 信通话
3. 呼叫拆除

相应的，电路交换也分为三个阶段

1. 连接建立
2. 信息传送
3. 连接拆除



#### 优点

1. 面向连接
2. 同步时分复用
4. 独占性
5. 可靠性
6. 实时性



#### 缺点

1. 平均建立时间比较长
2. 连接建立之后，物理链路被通信的双方占据，即使信道处于空闲状态，也无法利用，总的信道利用率低
3. 难以进行差错控制



### 分组交换

通信双方以分组为单位、使用存储-转发机制实现数据交互的通信方式，被称为分组交换

分组交换也称为包交换，它将用户通信的数据划分成多个更小的等长数据段，在每个数据段的前面加上必要的控制信息作为数据段的首部，每个带有首部的数据段就构成了一个分组。首部指明了该分组发送的地址，当交换机收到分组之后，将根据首部中的地址信息将分组转发到目的地，这个过程就是分组交换。能够进行分组交换的通信网被称为分组交换网



分组转发的实质就是 **存储+转发**

将所接受的分组战术存储下来，在其目的方向上排队，当可以发送消息的时候，再将信息发送到相应的路由等网络设备上，完成转发。



为了将所有的分组准确地传送到对方，需要将每一个分组都打上标签，不同的分组在链路上面通过共享和复用的方式进行传输，这里的标签，就是分组的头部信息，而一个完整的分组，肯定是承载了需要传输的数据的，因此，分组的结构是：**分组头+用户数据**



其实和分组交换相似的还有一种不同的方法，那就是报文交换，他们都是通过存储转发完成的，只不过报文交换没有将数据分为多个小的**等长**分组，所以效率上面无法和分组交换相比。





#### 优点

1. 数据传输的最小单位是分组
2. 面向连接和不面向连接两种方式
3. 有差错控制
4. 有流量控制
5. 采用流水线的方式工作，利用率高



#### 缺点

1. 会产生多个存储-转发时延
2. 每一个分组都要加上首部信息，增加了处理的时间，降低了通信效率
3. 分组交换采用数据报服务（主流的方式）的时候，可能出现失序，超时，重复等情况，需要对于其进行控制（参照tcp的原理）







### 电路交换和分组交换的适用场合

若要传送的数据量很大，且其传送时间远大于呼叫时间，则采用电路交换较为合适；当端到端的通路有很多段的链路组成时，采用分组交换传送数据较为合适。从提高整个网络的信道利用率上看，报文交换和分组交换优于电路交换，其中分组交换比报文交换的时延小，尤其适合于计算机之间的突发式的数据通信。





tips：[分组交换和报文交换的计算](https://blog.csdn.net/suxiaorui/article/details/87099192)





## 计算机网络的分层

### 传统的7层模型

1. 物理层
2. 数据链路层
3. 网络层
4. 传输层
5. 会话层
6. 表示层
7. 应用层



### 简化的5层模型

1. 物理层
2. 数据链路层
3. 网络层
4. 传输层
5. 应用层











