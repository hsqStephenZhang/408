# 操作系统



## 操作系统的基本特点



1. 并发
2. 共享







## 操作系统采用的关键技术



### 1.并发处理

首先需要明确两个概念：并行和并发

并发是通过操作系统的时间片调度，一个时间段中，有多个程序都处于开始到结束的阶段之间，而且这些程序都是在一个处理机上运行

并行是指，当电脑有多个CPU的时候，当一个CPU执行一个进程(线程)的时候，另一个CPU可以执行不同的进程(线程)，互相之间不会抢占资源



操作系统管理各个不同的硬件设备，CPU计算的同时，打印机可能正在打印数据，网卡可能正在接受数据...，这些任务都是并行处理的，可以将上面的CPU层面的并发，降低一个层次，降到处理机的层次，CPU，打印机，网卡都是电脑上的处理机，因为现在是多处理机系统，这些处理机之间有依赖关系，但是，在各自的单独处理的时候，就互相不会干扰(这里的依赖关闭，就比如CPU的计算依赖于输入设备的输入)



操作系统具有同时处理大量同时性活动的能力







### 2.虚拟技术

操作系统大量使用虚拟技术

因为操作系统需要管理大量的硬件，比如中央处理机，存储器和外部设备，这些设备的使用是十分复杂的，操作系统采用虚拟技术，将物理设备抽象为逻辑设备，让用户感觉不到底层的设备，使用一些系统提供的接口即可。

在虚拟存储系统中，操作系统为了给用户提供虚拟存储空间，需要将两者之间通过地址转换系统，完成逻辑和物理地址的映射关系，在CPU的管理中，将其切分为多个时间片，分配给不同的进程交替执行，上层的用户以为一直占用着CPU，但是，其实，操作系统已经完成了很多次进程之间的切换，但是这个不会让用户感受到(进程数量一多，会感受到卡，就是因为进程之间需要来回切换，你当前使用的进程，实际上只分配到了一小部分)





## 重点概念



### 批处理系统

将用户的提交的作业（程序和相应的数据，处理步骤）成批地送入计算机，由作业调度程序自动选择程序执行



这样最大的好处是，减少了处理机的**空闲等待**，提高了CPU的利用率

用户需要提前将程序和数据准备好，成批送入系统，在执行过程中，无法进行直接干预，如果执行时间长，更加不方便用户掌控





### 分时系统



操作系统采用时间片轮转的方式，使得一台计算机同时为许多终端用户服务，每一个用户的感觉就是自己在独占计算机

和批处理系统不同，分时系统提供了用户和系统的交互手段，能够及时响应用户输入的命令



### 多道程序设计





硬件出现通道和中断技术之后，CPU就具备了和外部设备并行操作的能力

为了提高CPU的**利用率**，就出现了多道技术

多道技术的思想就是，在主存中，存放多个作业，当一个作业等待输入或者输出的时候，CPU转而去运行另一个程序，使得多个程序同时处于运行状态



对于只有一个处理机的系统来说，“作业同时处于运行状态”这句话，是从宏观上来说的，含义是每一个作业都已经开始运行，但都没有完成，宏观上是并行的，但是微观上仍然是串行的





### 微内核

微内核指的是系统提供的，调用频率很高的操作系统核心的一些服务程序，在这种内核下，大量的操作系统服务可以在用户态下完成

通常仅仅提供下面的服务：

1. 进程通信
2. 主存管理（部分）
3. 少量的底层进程管理
4. 少量底层的输入输出

